<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seafood Store</title>
    <link rel="stylesheet" href="css/styles.css?v=17">
    <script src="https://telegram.org/js/telegram-web-app.js?59"></script>
</head>
<body>
    <!-- Cart icon - visible on all screens except loading -->
    <div id="cart-icon" class="cart-icon" 
         draggable="false" 
         ondragstart="return false;" 
         unselectable="on" 
         onselectstart="return false;"
         style="user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" 
             draggable="false" 
             ondragstart="return false;" 
             unselectable="on">
            <path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" fill="currentColor"/>
            <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" fill="currentColor"/>
            <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span id="cart-badge" class="cart-badge" 
              draggable="false" 
              ondragstart="return false;" 
              ondrag="return false;"
              ondragend="return false;"
              onmousedown="return false;"
              onselectstart="return false;"
              unselectable="on"
              style="user-select: none !important; -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; pointer-events: none !important;">0</span>
    </div>
    
    <div id="app">
        <!-- Loading screen -->
        <div id="loading" class="screen active">
            <img src="images/logo.png" alt="Seafood Store Logo" class="loading-logo">
            <div class="loading-spinner"></div>
            <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
        </div>

        <!-- Categories screen -->
        <div id="categories" class="screen">
            <div class="header">
                <img src="images/logo.png" alt="Seafood Store Logo" class="header-logo">
                <h1>–ú–∞–≥–∞–∑–∏–Ω –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ñ–≤</h1>
                <p>–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é —Ç–æ–≤–∞—Ä—ñ–≤</p>
            </div>
            
            <div class="categories-grid">
                <div class="category-card" data-category="salmon">
                    <div class="category-icon">üêü</div>
                    <h3>–õ–æ—Å–æ—Å—å</h3>
                    <p>–°–æ–ª–µ–Ω–∏–π, –∫–æ–ø—á–µ–Ω–∏–π, —Ö–æ–ª–æ–¥–∂–µ–Ω–∏–π</p>
                </div>
                
                <div class="category-card" data-category="shellfish">
                    <div class="category-icon">ü¶ê</div>
                    <h3>–ú–æ–ª—é—Å–∫–∏</h3>
                    <p>–ö—Ä–µ–≤–µ—Ç–∫–∏, –º—ñ–¥—ñ—ó —Ç–∞ —ñ–Ω—à–µ</p>
                </div>
                
                <div class="category-card" data-category="tomyum">
                    <div class="category-icon">üçú</div>
                    <h3>Tom Yum –Ω–∞–±—ñ—Ä</h3>
                    <p>–í—Å–µ –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å—É–ø—É</p>
                </div>
                
                <div class="category-card" data-category="caviar">
                    <div class="category-icon">ü•ö</div>
                    <h3>–Ü–∫—Ä–∞</h3>
                    <p>–†—ñ–∑–Ω—ñ –≤–∏–¥–∏ —ñ–∫—Ä–∏</p>
                </div>
            </div>
        </div>

        <!-- Products screen -->
        <div id="products" class="screen">
            <div class="header">
                <img src="images/logo.png" alt="Seafood Store Logo" class="header-logo-small">
                <h2 id="category-title">–¢–æ–≤–∞—Ä–∏</h2>
            </div>
            
            <div id="products-list" class="products-list">
                <!-- Products will be loaded here dynamically -->
            </div>
        </div>

        <!-- Product detail screen -->
        <div id="product-detail" class="screen">
            <div class="product-image">
                <img id="product-img" src="" alt="Product image">
            </div>
            
            <div class="product-info">
                <h3 id="product-name"></h3>
                <p id="product-description"></p>
                <div class="price-info" style="display: none;">
                    <span class="price-label">–¶—ñ–Ω–∞:</span>
                    <span id="product-price"></span>
                </div>
            </div>
            
            <div class="product-selection-card">
                <div class="package-options">
                    <h4>–û–±–µ—Ä—ñ—Ç—å —Ñ–∞—Å—É–≤–∞–Ω–Ω—è:</h4>
                    <div id="package-list" class="package-grid">
                        <!-- Package options will be loaded here -->
                    </div>
                </div>
                
                <div class="quantity-row">
                    <span class="quantity-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å:</span>
                    <div class="quantity-selector-inline">
                        <button type="button" class="quantity-btn-inline" id="quantity-minus">‚àí</button>
                        <span id="quantity-display">1</span>
                        <button type="button" class="quantity-btn-inline" id="quantity-plus">+</button>
                        <input type="hidden" id="quantity-input" value="1" min="1" max="10">
                    </div>
                </div>
            </div>
            
            <!-- Sticky bottom bar for mobile -->
            <div class="product-bottom-bar">
                <div class="total-price-compact">
                    <span class="price-label-small">–°—É–º–∞:</span>
                    <strong id="total-price">0 –≥—Ä–Ω</strong>
                </div>
                
                <button id="add-to-cart-btn" class="btn btn-primary btn-add-cart">
                    <svg class="cart-icon-btn" width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" fill="currentColor"/>
                        <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" fill="currentColor"/>
                        <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>–í –∫–æ—à–∏–∫</span>
                </button>
            </div>
        </div>

        <!-- Cart screen -->
        <div id="cart" class="screen">
            <div class="header">
                <img src="images/logo.png" alt="Seafood Store Logo" class="header-logo-small">
                <h2>üõí –ö–æ—à–∏–∫</h2>
            </div>
            
            <div id="cart-items" class="cart-items">
                <!-- Cart items will be loaded here -->
            </div>
            
            <div class="cart-empty" id="cart-empty" style="display: none;">
                <p>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>
                <button class="btn btn-secondary" onclick="window.router?.navigateTo('categories')">
                    –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏
                </button>
            </div>
            
            <div class="cart-summary" id="cart-summary">
                <div class="warning-text">
                    ‚ö†Ô∏è –£–≤–∞–≥–∞! –§–∞–∫—Ç–∏—á–Ω–∞ –≤–∞–≥–∞ –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –Ω–∞ ¬±10%
                </div>
                
                <div class="total-summary">
                    <div class="total-line">
                        <span>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞:</span>
                        <strong id="cart-total">0 –≥—Ä–Ω</strong>
                    </div>
                </div>
                
                <div class="cart-actions">
                    <button class="btn btn-secondary" onclick="window.router?.navigateTo('categories')">
                        –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏
                    </button>
                    <button class="btn btn-primary" onclick="window.router?.navigateTo('checkout')">
                        –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
                    </button>
                </div>
            </div>
        </div>

        <!-- Order Review screen -->
        <div id="order-review" class="screen">
            <div class="header">
                <img src="images/logo.png" alt="Seafood Store Logo" class="header-logo-small">
                <h2>üìã –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            </div>
            
            <div class="order-review-container">
                <!-- Combined order items and total section -->
                <div class="review-section">
                    <h3 class="section-title">üõí –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
                    <div id="review-items" class="review-items-list">
                        <!-- Items will be loaded here -->
                    </div>
                    <!-- Price summary in same block -->
                    <div class="review-price-summary">
                        <div class="price-row">
                            <span class="price-label">–°—É–º–∞ —Ç–æ–≤–∞—Ä—ñ–≤:</span>
                            <span id="review-subtotal" class="price-value"></span>
                        </div>
                        <div class="price-row" id="review-promo-row" style="display: none;">
                            <span class="price-label">–ó–Ω–∏–∂–∫–∞:</span>
                            <span id="review-discount" class="price-value discount"></span>
                        </div>
                        <div class="price-row total">
                            <span class="price-label">–î–æ —Å–ø–ª–∞—Ç–∏:</span>
                            <span id="review-total" class="price-value total"></span>
                        </div>
                    </div>
                </div>
                
                <!-- Delivery details section -->
                <div class="review-section">
                    <h3 class="section-title">üöö –î–æ—Å—Ç–∞–≤–∫–∞</h3>
                    <div class="review-info-card">
                        <div class="info-row">
                            <span class="info-label">–†–∞–π–æ–Ω:</span>
                            <span id="review-district" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–ß–∞—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</span>
                            <span id="review-time-slot" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:</span>
                            <span id="review-delivery-date" class="info-value"></span>
                        </div>
                        <div class="info-row" id="review-comment-row" style="display: none;">
                            <span class="info-label">–ö–æ–º–µ–Ω—Ç–∞—Ä:</span>
                            <span id="review-comment" class="info-value"></span>
                        </div>
                    </div>
                </div>
                
                <!-- Important notice -->
                <div class="review-section">
                    <div class="confirmation-notice-card">
                        <div class="notice-icon">üì±</div>
                        <div class="notice-text">
                            <h4>–©–æ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è?</h4>
                            <ul>
                                <li>–í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram –∑ –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</li>
                                <li>–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–≤'—è–∂–µ—Ç—å—Å—è –∑ –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–Ω—è —á–∞—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏</li>
                                <li>–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Action buttons -->
                <div class="review-actions">
                    <button id="edit-order-btn" class="btn btn-secondary">
                        <span class="btn-icon">‚úèÔ∏è</span>
                        <span>–ù–∞–∑–∞–¥ –¥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è</span>
                    </button>
                    <button id="confirm-order-btn" class="btn btn-primary btn-large btn-confirm">
                        <span class="btn-icon">‚úÖ</span>
                        <span>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</span>
                    </button>
                </div>
                
                <!-- Loading overlay -->
                <div id="order-loading" class="order-loading-overlay" style="display: none;">
                    <div class="loading-content">
                        <div class="loading-spinner"></div>
                        <p>–û–±—Ä–æ–±–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è...</p>
                    </div>
                </div>
                
            </div>
        </div>


        <!-- Checkout screen -->
        <div id="checkout" class="screen">
            <div class="header">
                <img src="images/logo.png" alt="Seafood Store Logo" class="header-logo-small">
                <h2>üìã –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            </div>
            
            <div class="checkout-container">
                <form id="checkout-form">
                    <!-- Delivery Details Section -->
                    <div class="checkout-section">
                        <h3 class="section-title">üöö –î–µ—Ç–∞–ª—ñ –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                        
                        <div class="form-group">
                            <label for="district-select">–†–∞–π–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                            <div class="select-wrapper">
                                <select id="district-select" required>
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å —Ä–∞–π–æ–Ω</option>
                                    <!-- Districts will be loaded dynamically -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>–ß–∞—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                            <div class="delivery-time-grid">
                                <label class="time-slot-card">
                                    <input type="radio" name="delivery-time" value="morning" required>
                                    <div class="time-slot-content">
                                        <div class="time-emoji">üåÖ</div>
                                        <div class="time-label">–†–∞–Ω–æ–∫</div>
                                        <div class="time-range">8:00-12:00</div>
                                    </div>
                                </label>
                                <label class="time-slot-card">
                                    <input type="radio" name="delivery-time" value="afternoon" required>
                                    <div class="time-slot-content">
                                        <div class="time-emoji">‚òÄÔ∏è</div>
                                        <div class="time-label">–î–µ–Ω—å</div>
                                        <div class="time-range">12:00-16:00</div>
                                    </div>
                                </label>
                                <label class="time-slot-card">
                                    <input type="radio" name="delivery-time" value="evening" required>
                                    <div class="time-slot-content">
                                        <div class="time-emoji">üåÜ</div>
                                        <div class="time-label">–í–µ—á—ñ—Ä</div>
                                        <div class="time-range">16:00-20:00</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Options Section -->
                    <div class="checkout-section">
                        <h3 class="section-title">üí¨ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ü—ñ—ó</h3>
                        
                        <div class="form-group">
                            <label for="comment-input">–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</label>
                            <textarea id="comment-input" placeholder="–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="promo-input">–ü—Ä–æ–º–æ–∫–æ–¥:</label>
                            <div class="promo-input-group">
                                <input type="text" id="promo-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)">
                                <button type="button" id="promo-check-btn" class="btn btn-small">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                            </div>
                            <div id="promo-result" class="promo-result"></div>
                        </div>
                    </div>
                    
                    <!-- Order Summary Section -->
                    <div class="checkout-section">
                        <div class="order-summary-card">
                            <h3 class="section-title">üìã –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
                            <div id="checkout-items" class="checkout-items-list"></div>
                            <div class="order-total">
                                <div class="total-line">
                                    <span>–°—É–º–∞ –¥–æ —Å–ø–ª–∞—Ç–∏:</span>
                                    <strong id="checkout-total" class="total-amount">0 –≥—Ä–Ω</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Delivery Info Section -->
                    <div class="checkout-section">
                        <div class="delivery-info-card">
                            <h3 class="section-title">‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –¥–æ—Å—Ç–∞–≤–∫—É</h3>
                            <div class="info-list">
                                <div class="info-item">
                                    <span class="info-icon">üìÖ</span>
                                    <span>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è, –æ—Ñ–æ—Ä–º–ª–µ–Ω—ñ –¥–æ 18:00, –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –¥–Ω—è</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-icon">üí≥</span>
                                    <span>–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="checkout-actions">
                        <button type="submit" class="btn btn-primary btn-large">
                            <span class="btn-icon">‚úÖ</span>
                            <span>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/telegram.js?v=1754422400"></script>
    <script src="js/api.js?v=1754422400"></script>
    <script src="js/cart.js?v=1754422400"></script>
    <script src="js/router.js?v=1754422400"></script>
    <script src="js/app.js?v=1754422400"></script>
</body>
</html>